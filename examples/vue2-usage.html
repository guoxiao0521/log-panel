<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Log Panel - Vue 2 ä½¿ç”¨ç¤ºä¾‹</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    #app {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
    }

    .section {
      margin-bottom: 30px;
    }

    .section h2 {
      color: #42b983;
      font-size: 20px;
      margin-bottom: 15px;
      border-bottom: 2px solid #42b983;
      padding-bottom: 8px;
    }

    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    button {
      padding: 12px 24px;
      font-size: 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 500;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    button:active {
      transform: translateY(0);
    }

    .btn-primary {
      background: #42b983;
      color: white;
    }

    .btn-log {
      background: #4ec9b0;
      color: white;
    }

    .btn-warn {
      background: #dcdcaa;
      color: #333;
    }

    .btn-error {
      background: #f48771;
      color: white;
    }

    .btn-secondary {
      background: #95a5a6;
      color: white;
    }

    .info-box {
      background: #f0f9ff;
      border-left: 4px solid #42b983;
      padding: 15px;
      border-radius: 4px;
      margin-top: 20px;
    }

    .info-box h3 {
      color: #42b983;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .info-box pre {
      background: #2d2d30;
      color: #d4d4d4;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      margin-top: 10px;
      font-size: 13px;
    }

    .counter {
      font-size: 24px;
      font-weight: bold;
      color: #42b983;
      margin: 10px 0;
    }

    .user-card {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
    }

    .user-card p {
      margin: 5px 0;
      color: #666;
    }
  </style>
</head>

<body>
  <div id="app">
    <h1>ğŸ“Š Log Panel - Vue 2 é›†æˆç¤ºä¾‹</h1>
    <p class="subtitle">åœ¨ Vue 2 é¡¹ç›®ä¸­ä½¿ç”¨æ—¥å¿—é¢æ¿</p>

    <div class="section">
      <h2>Vue ç»„ä»¶æµ‹è¯•</h2>
      <div class="button-group">
        <button class="btn-primary" @click="handleClick">ç‚¹å‡»äº‹ä»¶</button>
        <button class="btn-primary" @click="incrementCounter">è®¡æ•°å™¨ +1</button>
        <button class="btn-log" @click="logData">è¾“å‡ºæ•°æ®</button>
        <button class="btn-warn" @click="logWarning">è¾“å‡ºè­¦å‘Š</button>
        <button class="btn-error" @click="logError">è¾“å‡ºé”™è¯¯</button>
      </div>
      <div class="counter">è®¡æ•°å™¨: {{ counter }}</div>
    </div>

    <div class="section">
      <h2>ç”Ÿå‘½å‘¨æœŸæµ‹è¯•</h2>
      <div class="button-group">
        <button class="btn-primary" @click="toggleComponent">{{ showUser ? 'é”€æ¯ç»„ä»¶' : 'åˆ›å»ºç»„ä»¶' }}</button>
      </div>
      <user-card v-if="showUser" :user="user"></user-card>
    </div>

    <div class="section">
      <h2>å¼‚æ­¥æ“ä½œæµ‹è¯•</h2>
      <div class="button-group">
        <button class="btn-primary" @click="fetchData">æ¨¡æ‹Ÿ API è¯·æ±‚</button>
        <button class="btn-secondary" @click="simulateError">æ¨¡æ‹Ÿè¯·æ±‚é”™è¯¯</button>
      </div>
    </div>

    <div class="info-box">
      <h3>ğŸ’¡ Vue 2 é›†æˆæ–¹æ³•</h3>
      <pre>
// æ–¹æ³• 1: åœ¨ main.js ä¸­å…¨å±€åˆå§‹åŒ–
import Vue from 'vue';
import LogPanel from 'log-panel';
import App from './App.vue';

// åˆå§‹åŒ–æ—¥å¿—é¢æ¿
LogPanel.init({
  position: 'bottom-right',
  width: 450,
  height: 350
});

new Vue({
  render: h => h(App)
}).$mount('#app');

// æ–¹æ³• 2: ä½œä¸º Vue æ’ä»¶
const LogPanelPlugin = {
  install(Vue, options) {
    LogPanel.init(options);
    Vue.prototype.$logPanel = LogPanel;
  }
};

Vue.use(LogPanelPlugin, {
  position: 'bottom-right',
  width: 450,
  height: 350
});

// æ–¹æ³• 3: åœ¨ç‰¹å®šç»„ä»¶ä¸­åˆå§‹åŒ–
import LogPanel from 'log-panel';

export default {
  mounted() {
    LogPanel.init();
  },
  beforeDestroy() {
    LogPanel.destroy();
  }
}
      </pre>
    </div>
  </div>

  <!-- Vue 2 -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
  
  <!-- Log Panel -->
  <script src="../dist/log-panel.umd.js"></script>

  <script>
    // å®šä¹‰å­ç»„ä»¶
    Vue.component('user-card', {
      props: ['user'],
      template: `
        <div class="user-card">
          <p><strong>å§“å:</strong> {{ user.name }}</p>
          <p><strong>å¹´é¾„:</strong> {{ user.age }}</p>
          <p><strong>èŒä½:</strong> {{ user.role }}</p>
        </div>
      `,
      created() {
        console.log('UserCard ç»„ä»¶å·²åˆ›å»º', this.user);
      },
      mounted() {
        console.log('UserCard ç»„ä»¶å·²æŒ‚è½½');
      },
      beforeDestroy() {
        console.warn('UserCard ç»„ä»¶å³å°†é”€æ¯');
      }
    });

    // åˆ›å»º Vue å®ä¾‹
    new Vue({
      el: '#app',
      data: {
        counter: 0,
        showUser: false,
        user: {
          name: 'å¼ ä¸‰',
          age: 28,
          role: 'å‰ç«¯å·¥ç¨‹å¸ˆ'
        }
      },
      created() {
        console.log('Vue åº”ç”¨å·²åˆ›å»º');
      },
      mounted() {
        // åˆå§‹åŒ– Log Panel
        LogPanel.init({
          position: 'bottom-right',
          width: 450,
          height: 350,
          maxLogs: 500
        });
        console.log('âœ… Log Panel å·²åˆå§‹åŒ–');
        console.log('ğŸ‰ Vue 2 åº”ç”¨å¯åŠ¨æˆåŠŸ!');
      },
      methods: {
        handleClick() {
          console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†!');
          console.log('å½“å‰æ—¶é—´:', new Date().toLocaleString());
        },
        
        incrementCounter() {
          this.counter++;
          console.log(`è®¡æ•°å™¨æ›´æ–°: ${this.counter}`);
        },
        
        logData() {
          const data = {
            counter: this.counter,
            user: this.user,
            timestamp: Date.now()
          };
          console.log('å½“å‰åº”ç”¨æ•°æ®:', data);
        },
        
        logWarning() {
          console.warn('âš ï¸ è¿™æ˜¯ä¸€æ¡è­¦å‘Šæ¶ˆæ¯');
          console.warn('è®¡æ•°å™¨å€¼:', this.counter);
        },
        
        logError() {
          console.error('âŒ è¿™æ˜¯ä¸€æ¡é”™è¯¯æ¶ˆæ¯');
          console.error('Error: æ¨¡æ‹Ÿçš„é”™è¯¯ä¿¡æ¯');
        },
        
        toggleComponent() {
          this.showUser = !this.showUser;
          if (this.showUser) {
            console.log('åˆ›å»º UserCard ç»„ä»¶');
          } else {
            console.warn('é”€æ¯ UserCard ç»„ä»¶');
          }
        },
        
        async fetchData() {
          console.log('å¼€å§‹è¯·æ±‚æ•°æ®...');
          
          // æ¨¡æ‹Ÿ API è¯·æ±‚
          try {
            await new Promise(resolve => setTimeout(resolve, 1500));
            const response = {
              status: 200,
              data: {
                id: 1,
                name: 'æ–°ç”¨æˆ·',
                email: 'user@example.com'
              }
            };
            console.log('âœ… è¯·æ±‚æˆåŠŸ:', response);
          } catch (error) {
            console.error('âŒ è¯·æ±‚å¤±è´¥:', error);
          }
        },
        
        async simulateError() {
          console.log('æ¨¡æ‹Ÿ API è¯·æ±‚é”™è¯¯...');
          
          try {
            await new Promise((resolve, reject) => {
              setTimeout(() => reject(new Error('Network Error')), 1000);
            });
          } catch (error) {
            console.error('âŒ è¯·æ±‚å¤±è´¥:', error.message);
            console.error('é”™è¯¯è¯¦æƒ…:', {
              message: error.message,
              timestamp: new Date().toISOString()
            });
          }
        }
      },
      watch: {
        counter(newVal, oldVal) {
          console.log(`è®¡æ•°å™¨å˜åŒ–: ${oldVal} â†’ ${newVal}`);
        }
      }
    });
  </script>
</body>

</html>


